var p,c;function f(){if(c)return p;c=1,p=g,g.displayName="jsx",g.aliases=[];function g(u){(function(a){var d=a.util.clone(a.languages.javascript);a.languages.jsx=a.languages.extend("markup",d),a.languages.jsx.tag.pattern=/<\/?(?:[\w.:-]+\s*(?:\s+(?:[\w.:-]+(?:=(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s{'">=]+|\{(?:\{(?:\{[^}]*\}|[^{}])*\}|[^{}])+\}))?|\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}))*\s*\/?)?>/i,a.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/i,a.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|[^\s'">]+)/i,a.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,a.languages.insertBefore("inside","attr-name",{spread:{pattern:/\{\.{3}[a-z_$][\w$]*(?:\.[a-z_$][\w$]*)*\}/,inside:{punctuation:/\.{3}|[{}.]/,"attr-value":/\w+/}}},a.languages.jsx.tag),a.languages.insertBefore("inside","attr-value",{script:{pattern:/=(\{(?:\{(?:\{[^}]*\}|[^}])*\}|[^}])+\})/i,inside:{"script-punctuation":{pattern:/^=(?={)/,alias:"punctuation"},rest:a.languages.jsx},alias:"language-javascript"}},a.languages.jsx.tag);var i=function(t){return t?typeof t=="string"?t:typeof t.content=="string"?t.content:t.content.map(i).join(""):""},l=function(t){for(var e=[],s=0;s<t.length;s++){var n=t[s],r=!1;if(typeof n!="string"&&(n.type==="tag"&&n.content[0]&&n.content[0].type==="tag"?n.content[0].content[0].content==="</"?e.length>0&&e[e.length-1].tagName===i(n.content[0].content[1])&&e.pop():n.content[n.content.length-1].content==="/>"||e.push({tagName:i(n.content[0].content[1]),openedBraces:0}):e.length>0&&n.type==="punctuation"&&n.content==="{"?e[e.length-1].openedBraces++:e.length>0&&e[e.length-1].openedBraces>0&&n.type==="punctuation"&&n.content==="}"?e[e.length-1].openedBraces--:r=!0),(r||typeof n=="string")&&e.length>0&&e[e.length-1].openedBraces===0){var o=i(n);s<t.length-1&&(typeof t[s+1]=="string"||t[s+1].type==="plain-text")&&(o+=i(t[s+1]),t.splice(s+1,1)),s>0&&(typeof t[s-1]=="string"||t[s-1].type==="plain-text")&&(o=i(t[s-1])+o,t.splice(s-1,1),s--),t[s]=new a.Token("plain-text",o,null,o)}n.content&&typeof n.content!="string"&&l(n.content)}};a.hooks.add("after-tokenize",function(t){t.language!=="jsx"&&t.language!=="tsx"||l(t.tokens)})})(u)}return p}export{f as d};
